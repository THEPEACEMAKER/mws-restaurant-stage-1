function openDatabase(){return navigator.serviceWorker?idb.open("restaurantsDB",1,function(e){e.createObjectStore("restaurantsOS",{keyPath:"id"})}):Promise.resolve()}function addRestaurantsToCache(e){openDatabase().then(function(t){if(t){var r=t.transaction("restaurantsOS","readwrite"),n=r.objectStore("restaurantsOS");return null==e.length?n.put(e):e.forEach(function(e){n.put(e)}),r.complete}}).then(function(){})}function showCachedRestaurants(){return openDatabase().then(function(e){return e.transaction("restaurantsOS").objectStore("restaurantsOS").getAll()}).then(function(e){return e})}function showCachedRestaurant(e){return openDatabase().then(function(t){var r=t.transaction("restaurantsOS").objectStore("restaurantsOS");return e=parseInt(e),r.get(e)}).then(function(e){return e})}registerServiceWorker=(()=>{navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(function(){console.log("Registeration Worked!")}).catch(function(){console.log("serviceWorker registeration failed!!")})}),registerServiceWorker();